# Swagger REST Server for Apache Kudu

## Overview
This REST server uses Apache Kudu's Java client to interact with a Kudu cluster.
Currently, retrieving table schema and inserting rows are supported.

A web interface is generated at:

```
http://localhost:8080/swagger
```

Schemas and rows are specified in JSON and submitted to the cluster (default
location specified as 0.0.0.0:7051).
```
[
  {
    "name": "tripId",
    "dataType": "string",
    "primaryKey": true,
    "nullable": false
  },
	{
    "name": "timestamp",
    "dataType": "int32",
    "primaryKey": true,
    "nullable": false
  },
	{
    "name": "lat",
    "dataType": "float",
    "primaryKey": false,
    "nullable": false
  },
	{
    "name": "long",
    "dataType": "float",
    "primaryKey": false,
    "nullable": false
  },
	{
  "name": "placeId",
  "dataType": "string",
  "primaryKey":false,
  "nullable": false
	}
]
```

## Running on External Machine
In order to run the Swagger server on a separate machine, update the following
files' IP addresses from 0.0.0.0:8080 to your-ip:8080 before running:
* src/main/webapp/WEB-INF/web.xml
* src/main/webapp/swagger/index.html

## Swagger Overview
The server was generated by the [swagger-codegen](https://github.com/swagger-api/swagger-codegen) project. By using the 
[OpenAPI-Spec](https://github.com/swagger-api/swagger-core/wiki) from a remote server, you can easily generate a server stub.  This
is an example of building a swagger-enabled JAX-RS server.

This example uses the [JAX-RS](https://jax-rs-spec.java.net/) framework.

To run the server, please execute the following:

```
mvn clean package jetty:run
```

You can then view the swagger listing here:

```
http://localhost:8080/table/swagger.json
```

Note that if you have configured the `host` to be something other than localhost, the calls through
swagger-ui will be directed to that host and not localhost!
